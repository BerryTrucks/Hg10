
    </div>


    <br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>

    <div id="end" ></div>

        <script type="text/javascript">

        // ----------------------
        // adjust context menu height

        var container 	= document.getElementById("container");
        //var contextMenu = document.getElementById("context");
        //var topic 		= document.getElementById("topic"); 

        container.style.width = window.innerWidth-10;

        function sendURL(url) { navigator.cascades.postMessage(url); }

        function pushMessage(who, what, avatar) {
            var message = container.innerHTML;
            if(who == 0) {
                message = message + "<div class=\"bubble-left\"><img src=" + avatar + "><p>" + what + "</p></div>";
            } else {
                message = message + "<div class=\"bubble-right\"><img src=" + avatar + "><p>" + what + "</p></div>";
            }

            container.innerHTML = message;

            scrollToEnd();
        }

        function scrollToEnd() {
            //document.getElementById(messageID).scrollIntoView();
            if(window.innerWidth > 1000)
                sendURL("SCROLLTO:"+GetScreenCordinates(document.getElementById("end")).y*1.395);
            else
                sendURL("SCROLLTO:"+GetScreenCordinates(document.getElementById("end")).y);

        }

        function GetScreenCordinates(obj) {
            var p = {};
            p.x = obj.offsetLeft;
            p.y = obj.offsetTop;
            while (obj.offsetParent) {
                p.x = p.x + obj.offsetParent.offsetLeft;
                p.y = p.y + obj.offsetParent.offsetTop;
                if (obj == document.getElementsByTagName("body")[0]) {
                    break;
                }
                else {
                    obj = obj.offsetParent;
                }
            }
            return p;
        }



        </script>

    </body>
</html>